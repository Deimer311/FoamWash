üìò Documentaci√≥n T√©cnica - Sistema de Cotizaci√≥n FoamWash
üìã √çndice
1.	Descripci√≥n General
2.	Estructura del Proyecto
3.	Flujo de la Aplicaci√≥n
4.	Documentaci√≥n CSS
5.	Documentaci√≥n JavaScript
6.	Documentaci√≥n HTML
7.	Sistema de Autenticaci√≥n
8.	Gu√≠a de Modificaci√≥n
9.	Soluci√≥n de Problemas
________________________________________
üéØ Descripci√≥n General
Prop√≥sito
Sistema web para que clientes registrados de FoamWash puedan:
‚Ä¢	Cotizar servicios de limpieza y lavado
‚Ä¢	Agendar servicios despu√©s de cotizar
‚Ä¢	Gestionar su carrito de servicios
‚Ä¢	Ver resumen de cotizaciones y pedidos
Caracter√≠sticas Principales
‚úÖ Sistema de cotizaci√≥n paso a paso ‚úÖ Carrito de compras interactivo ‚úÖ Validaci√≥n de formularios ‚úÖ Notificaciones visuales ‚úÖ Almacenamiento local (localStorage) ‚úÖ Dise√±o responsive (m√≥vil, tablet, escritorio) ‚úÖ Protecci√≥n por autenticaci√≥n
________________________________________
üìÅ Estructura del Proyecto
proyecto/
‚îÇ
‚îú‚îÄ‚îÄ html/
‚îÇ   ‚îî‚îÄ‚îÄ cotizar_cliente.html          # P√°gina principal
‚îÇ
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ estilos_cotizar_cliente.css   # Estilos completos
‚îÇ
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ cotizar_cliente.js            # L√≥gica de cotizaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ login.js                      # Sistema de autenticaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ sesiones_activas.js           # Manejo de sesiones
‚îÇ
‚îî‚îÄ‚îÄ img/
    ‚îú‚îÄ‚îÄ serv_lavado_muebles.jpg
    ‚îú‚îÄ‚îÄ serv_alfombras.jpg
    ‚îú‚îÄ‚îÄ serv_tapiceria_carro.jpg
    ‚îú‚îÄ‚îÄ serv_cortinas.jpg
    ‚îú‚îÄ‚îÄ serv_colchones.jpg
    ‚îî‚îÄ‚îÄ serv_desinfeccion.jpg
________________________________________
üîÑ Flujo de la Aplicaci√≥n
Diagrama de Flujo
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. LOGIN/REGISTRO   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. P√ÅGINA SERVICIOS ‚îÇ ‚Üê Usuario ve cat√°logo
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. AGREGAR CARRITO  ‚îÇ ‚Üê Clic en "Agregar"
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. VER CARRITO      ‚îÇ ‚Üê Clic en bot√≥n flotante
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. GENERAR          ‚îÇ ‚Üê Completa detalles:
‚îÇ    COTIZACI√ìN       ‚îÇ   - Tama√±o
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   - Tipo lavado
           ‚îÇ               - Cantidad
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 6. VER COTIZACI√ìN   ‚îÇ ‚Üê Muestra total
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
       ‚îå‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îê
       ‚ñº       ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ 7A. ‚îÇ   ‚îÇ 7B.      ‚îÇ
  ‚îÇ M√ÅS ‚îÇ   ‚îÇ AGENDAR  ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ 8. LLENAR   ‚îÇ ‚Üê Formulario:
        ‚îÇ FORMULARIO  ‚îÇ   - Direcci√≥n
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   - Fecha/Hora
               ‚îÇ           - Tel√©fono
               ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ 9. CONFIRMAR‚îÇ ‚Üê Guarda en localStorage
        ‚îÇ    PEDIDO   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
________________________________________
üé® Documentaci√≥n CSS
Archivo: estilos_cotizar_cliente.css
Secciones Principales
1. RESET Y BASE (L√≠neas 1-10)
* { margin: 0; padding: 0; box-sizing: border-box; }
Prop√≥sito: Elimina estilos por defecto del navegador
2. HEADER (L√≠neas 12-100)
.header-banner { ... }
.logo-header { ... }
.nav-bar { ... }
Componentes:
‚Ä¢	Banner superior con gradiente morado
‚Ä¢	Logo "FoamWash"
‚Ä¢	Barra de navegaci√≥n
‚Ä¢	Bot√≥n de cerrar sesi√≥n
Modificar colores:
‚Ä¢	Fondo: L√≠nea 17 background: linear-gradient(...)
‚Ä¢	Logo: L√≠nea 39 color: white
‚Ä¢	Links: L√≠nea 54 color: white
3. BUSCADOR (L√≠neas 102-150)
.search-section { ... }
.search-input { ... }
Elementos:
‚Ä¢	Input de b√∫squeda centrado
‚Ä¢	Bot√≥n de b√∫squeda
‚Ä¢	Efecto de foco (borde azul)
4. TARJETAS DE SERVICIOS (L√≠neas 152-280)
.service-card { ... }
.service-image { ... }
.service-btn { ... }
Grid responsive:
‚Ä¢	Desktop: 3 columnas
‚Ä¢	Tablet: 2 columnas
‚Ä¢	M√≥vil: 1 columna
Animaciones:
‚Ä¢	Hover: Tarjeta sube 10px
‚Ä¢	Imagen: Zoom 1.1x
5. CARRITO FLOTANTE (L√≠neas 282-400)
.btn-carrito-flotante { ... }
Animaciones:
‚Ä¢	float: Movimiento arriba/abajo
‚Ä¢	pulse-ring: Anillo pulsante
‚Ä¢	shine: Brillo deslizante
Modificar posici√≥n:
‚Ä¢	Derecha: L√≠nea 285 right: 40px
‚Ä¢	Abajo: L√≠nea 286 bottom: 40px
6. MODALES (L√≠neas 402-650)
.modal-overlay { ... }
.modal-content { ... }
Estructura:
‚Ä¢	Overlay oscuro con blur
‚Ä¢	Contenido centrado
‚Ä¢	Header con gradiente
‚Ä¢	Body con scroll
‚Ä¢	Footer con botones
7. CARRITO DE SERVICIOS (L√≠neas 652-800)
.carrito-item { ... }
.cantidad-control { ... }
Elementos:
‚Ä¢	Items del carrito
‚Ä¢	Controles de cantidad (+/-)
‚Ä¢	Bot√≥n eliminar
‚Ä¢	Total con gradiente
‚ö†Ô∏è CAMBIO IMPORTANTE: L√≠nea 752
color: rgb(0, 0, 0); /* NEGRO para visibilidad */
8. FORMULARIOS (L√≠neas 802-950)
.form-group { ... }
.servicio-detalle { ... }
Inputs:
‚Ä¢	Padding: 14px
‚Ä¢	Border: 2px solid
‚Ä¢	Focus: Sombra azul
9. CONFIRMACI√ìN (L√≠neas 952-1050)
.confirmacion-exitosa { ... }
.icono-exito { ... }
Gradiente verde: √âxito de operaci√≥n
10. BOTONES (L√≠neas 1052-1200)
Tipos de botones:
Clase	Color	Uso
.btn-primary	Morado	Acci√≥n principal
.btn-confirmar	Verde	Confirmar pedido
.btn-cancelar	Rosa/Morado	Seguir cotizando
.btn-secondary	Blanco/Morado	Cancelar
Efectos:
‚Ä¢	Hover: Sube 3px
‚Ä¢	Shadow: Aumenta
‚Ä¢	Animaci√≥n: Flecha aparece (confirmar)
11. NOTIFICACIONES (L√≠neas 1202-1250)
.notificacion { ... }
Comportamiento:
‚Ä¢	Aparece desde derecha
‚Ä¢	Desaparece en 3 segundos
‚Ä¢	√çcono verde de check
12. RESPONSIVE (L√≠neas 1252-1350)
Breakpoints:
@media (max-width: 1024px) { ... } /* Tablets */
@media (max-width: 768px) { ... }  /* M√≥viles */
Cambios en m√≥vil:
‚Ä¢	Grid: 1 columna
‚Ä¢	Botones: 100% ancho
‚Ä¢	Header: M√°s compacto
‚Ä¢	Notificaciones: Full width
________________________________________
üíª Documentaci√≥n JavaScript
Archivo: cotizar_cliente.js
Variables Globales
// L√≠neas 1-40
const SERVICIOS = [...]      // Array de servicios disponibles
let carrito = []             // Array de servicios en carrito
let cotizacionesGuardadas = [] // Array de cotizaciones generadas
Funciones Principales
1. Gesti√≥n del Carrito
agregarAlCarrito(servicioId) - L√≠nea 42
// ¬øQu√© hace?
// 1. Busca el servicio por ID
// 2. Verifica si ya existe en carrito
// 3. Aumenta cantidad o agrega nuevo
// 4. Actualiza UI
// 5. Muestra notificaci√≥n

// Uso:
onclick="agregarAlCarrito(1)"
eliminarDelCarrito(servicioId) - L√≠nea 62
// ¬øQu√© hace?
// 1. Filtra el servicio del array
// 2. Actualiza UI
// 3. Muestra notificaci√≥n

// Uso:
onclick="eliminarDelCarrito(1)"
actualizarCantidad(servicioId, nuevaCantidad) - L√≠nea 68
// ¬øQu√© hace?
// 1. Encuentra el item
// 2. Actualiza su cantidad
// 3. Si cantidad = 0, elimina
// 4. Actualiza UI

// Uso:
onchange="actualizarCantidad(1, 3)"
2. C√°lculos
calcularTotal() - L√≠nea 82
// Retorna: N√∫mero (suma total)
// F√≥rmula: Œ£(precio √ó cantidad)
return carrito.reduce((total, item) => 
    total + (item.precio * item.cantidad), 0);
3. Actualizaci√≥n de UI
actualizarCarrito() - L√≠nea 86
// ¬øQu√© hace?
// 1. Cuenta items totales
// 2. Actualiza badge del bot√≥n flotante
// 3. Llama a actualizarModalCarrito()
actualizarModalCarrito() - L√≠nea 98
// ¬øQu√© hace?
// 1. Verifica si carrito vac√≠o ‚Üí muestra mensaje
// 2. Genera HTML de cada item
// 3. Muestra total formateado
4. Modales
abrirModalCarrito() - L√≠nea 136
// Agrega clase 'show' al modal
document.getElementById('modalCarrito').classList.add('show');
cerrarModalCarrito() - L√≠nea 141
// Remueve clase 'show' del modal
document.getElementById('modalCarrito').classList.remove('show');
5. Proceso de Cotizaci√≥n
finalizarCompra() - L√≠nea 146
// ¬øQu√© hace?
// 1. Valida que carrito no est√© vac√≠o
// 2. Cierra modal carrito
// 3. Abre modal cotizaci√≥n
abrirModalCotizacion() - L√≠nea 156
// ¬øQu√© hace?
// 1. Genera formulario para cada servicio:
//    - Select de tama√±o
//    - Input de cantidad
//    - Select de tipo de lavado
// 2. Muestra bot√≥n "Generar Cotizaci√≥n"
generarCotizacion() - L√≠nea 217
// ¬øQu√© hace?
// 1. Valida que todos los detalles est√©n completos
// 2. Crea objeto cotizaci√≥n con:
//    - ID √∫nico (COT-timestamp)
//    - Servicios con detalles
//    - Total
//    - Fecha de creaci√≥n
// 3. Guarda en array
// 4. Muestra resultado
mostrarResultadoCotizacion(cotizacion) - L√≠nea 238
// ¬øQu√© hace?
// 1. Muestra c√≥digo de cotizaci√≥n
// 2. Lista servicios cotizados
// 3. Muestra total
// 4. Presenta 2 botones:
//    a) Seguir Cotizando
//    b) Realizar Agendaci√≥n
6. Opciones Post-Cotizaci√≥n
seguirCotizando() - L√≠nea 277
// ¬øQu√© hace?
// 1. Limpia carrito actual
// 2. Mantiene cotizaciones guardadas
// 3. Cierra modal
// 4. Usuario puede agregar m√°s servicios
realizarAgendacion() - L√≠nea 284
// ¬øQu√© hace?
// 1. Oculta cotizaci√≥n
// 2. Muestra formulario con:
//    - Direcci√≥n
//    - Ciudad
//    - Tel√©fono
//    - Fecha (m√≠nimo ma√±ana)
//    - Hora (horarios predefinidos)
//    - Observaciones
// 3. Actualiza bot√≥n a "Confirmar Pedido"
7. Confirmaci√≥n de Pedido
confirmarPedido() - L√≠nea 341
// ¬øQu√© hace?
// 1. Valida formulario
// 2. Obtiene √∫ltima cotizaci√≥n
// 3. Crea objeto pedido:
//    - ID √∫nico (PED-timestamp)
//    - ID de cotizaci√≥n vinculada
//    - Datos de entrega
//    - Estado: "Pendiente"
// 4. Guarda en localStorage
// 5. Muestra confirmaci√≥n
Estructura del pedido guardado:
{
    id: "PED-1699123456789",
    cotizacionId: "COT-1699123400000",
    servicios: [...],
    direccion: "Calle 123 #45-67",
    ciudad: "Bogot√°",
    telefono: "3001234567",
    fecha: "2024-01-15",
    hora: "10:00",
    observaciones: "...",
    total: 270000,
    estado: "Pendiente",
    fechaCreacion: "2024-01-10T10:30:00.000Z"
}
8. Utilidades
formatearFecha(fecha) - L√≠nea 384
// Entrada: "2024-01-15"
// Salida: "lunes, 15 de enero de 2024"
actualizarDetalleServicio(servicioId, campo, valor) - L√≠nea 195
// Actualiza propiedades del servicio en carrito
// Campos: 'tamano', 'tipoLavado'
configurarBusqueda() - L√≠nea 407
// Configura event listener para buscar servicios
filtrarServicios(termino) - L√≠nea 416
// Filtra tarjetas por t√≠tulo o descripci√≥n
mostrarNotificacion(mensaje) - L√≠nea 432
// Muestra notificaci√≥n temporal (3 seg)
9. Event Listeners
// L√≠nea 467: Click fuera del modal cierra
window.addEventListener('click', (e) => { ... })

// L√≠nea 481: Inicializaci√≥n al cargar p√°gina
document.addEventListener('DOMContentLoaded', () => { ... })
________________________________________
üåê Documentaci√≥n HTML
Archivo: cotizar_cliente.html
Estructura General
<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Meta tags y t√≠tulo -->
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <!-- 1. Header -->
    <!-- 2. Buscador -->
    <!-- 3. Grid de servicios -->
    <!-- 4. Bot√≥n flotante -->
    <!-- 5. Modal carrito -->
    <!-- 6. Modal confirmaci√≥n -->
    <!-- 7. Scripts -->
</body>
</html>
Secciones Detalladas
1. Header (L√≠neas 14-26)
<header class="header-banner">
    <h1 class="logo-header">FoamWash</h1>
    <nav class="nav-bar">
        <a href="#" class="nav-link">Hogar</a>
        <a href="./cotizar_cliente.html">Cotizaci√≥n</a>
        <a href="#" class="nav-link">Agendar</a>
        <span id="userEmail">üë§ Usuario</span>
        <a href="#" onclick="cerrarSesionCliente(event)">
            üö™ Cerrar Sesi√≥n
        </a>
    </nav>
</header>
IDs importantes:
‚Ä¢	userEmail: Se actualiza con email del usuario
2. Buscador (L√≠neas 28-35)
<section class="search-section">
    <input type="text" 
           id="searchInput" 
           placeholder="Buscar servicios...">
    <button class="search-button">üîç</button>
</section>
3. Grid de Servicios (L√≠neas 37-120)
<section class="services-section">
    <h2>Nuestros Servicios</h2>
    <div class="services-grid">
        <!-- 6 tarjetas de servicio -->
        <article class="service-card">
            <div class="service-image">
                <img src="..." alt="...">
            </div>
            <div class="service-content">
                <h3 class="service-title">...</h3>
                <p class="service-desc">...</p>
                <span class="service-price">$90.000</span>
                <button onclick="agregarAlCarrito(1)">
                    üõí Agregar
                </button>
            </div>
        </article>
    </div>
</section>
Modificar servicios:
‚Ä¢	Cambiar precio en <span class="service-price">
‚Ä¢	Cambiar ID en onclick="agregarAlCarrito(X)"
‚Ä¢	Tambi√©n actualizar array SERVICIOS en JS
4. Bot√≥n Flotante (L√≠neas 122-126)
<button class="btn-carrito-flotante" 
        onclick="abrirModalCarrito()">
    <span class="carrito-icono">üõí</span>
    <span id="carritoBadge">0</span>
</button>
IDs importantes:
‚Ä¢	carritoBadge: Muestra cantidad de items
5. Modal Carrito (L√≠neas 128-150)
<div class="modal-overlay" id="modalCarrito">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üõí Carrito de Servicios</h2>
            <button onclick="cerrarModalCarrito()">√ó</button>
        </div>
        <div class="modal-body">
            <div id="carritoItems"></div>
            <div class="carrito-total">
                <h3>Total: <span id="carritoTotal">$0</span></h3>
            </div>
        </div>
        <div class="modal-footer">
            <button onclick="cerrarModalCarrito()">
                Seguir Cotizando
            </button>
            <button onclick="finalizarCompra()">
                Ver Cotizaci√≥n Final
            </button>
        </div>
    </div>
</div>
IDs importantes:
‚Ä¢	modalCarrito: Contenedor principal
‚Ä¢	carritoItems: Se llena din√°micamente con JS
‚Ä¢	carritoTotal: Se actualiza con total
6. Modal Confirmaci√≥n (L√≠neas 152-220)
<div class="modal-overlay" id="modalConfirmacion">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìã Confirmar Pedido</h2>
            <button onclick="cerrarModalConfirmacion()">√ó</button>
        </div>
        <div class="modal-body">
            <!-- √Årea de servicios a cotizar -->
            <div id="serviciosConfirmacion"></div>
            
            <!-- Formulario de agendaci√≥n -->
            <form id="formConfirmacion">
                <input type="text" id="direccion">
                <input type="text" id="ciudad">
                <input type="tel" id="telefono">
                <input type="date" id="fecha">
                <select id="hora">...</select>
                <textarea id="observaciones"></textarea>
                
                <!-- Resumen -->
                <div class="resumen-pedido">
                    <div id="resumenPedido"></div>
                    <div id="totalFinal">$0</div>
                </div>
            </form>
            
            <!-- Mensaje de confirmaci√≥n -->
            <div id="mensajeConfirmacion"></div>
        </div>
        <div class="modal-footer" id="modalFooterConfirm">
            <!-- Botones din√°micos -->
        </div>
    </div>
</div>
IDs din√°micos (cambian seg√∫n etapa):
‚Ä¢	serviciosConfirmacion: Detalles o formulario
‚Ä¢	mensajeConfirmacion: Confirmaci√≥n final
‚Ä¢	modalFooterConfirm: Botones cambian
7. Scripts (L√≠neas 225-270)
Orden de carga (CR√çTICO):
<!-- 1. Sistema de login -->
<script src="./js/login.js"></script>

<!-- 2. Sistema de sesiones -->
<script src="./js/sesiones_activas.js"></script>

<!-- 3. Protecci√≥n de p√°gina -->
<script>
    const session = protectPage(['cliente']);
    // Verifica que usuario est√© logueado
    // Redirige a login si no est√° autenticado
</script>

<!-- 4. Funcionalidad -->
<script src="./js/cotizar_cliente.js"></script>
‚ö†Ô∏è NO cambiar el orden - rompe autenticaci√≥n
________________________________________
üîê Sistema de Autenticaci√≥n
Archivos Involucrados
‚Ä¢	login.js: Funciones de login/logout
‚Ä¢	sesiones_activas.js: Gesti√≥n de sesiones
‚Ä¢	cotizar_cliente.html: Script de protecci√≥n
Flujo de Autenticaci√≥n
Usuario ‚Üí Login ‚Üí Genera Token ‚Üí Crea Sesi√≥n ‚Üí Accede
                        ‚Üì
                  (localStorage)
                        ‚Üì
              session = {
                  email: "...",
                  role: "cliente",
                  token: "...",
                  timestamp: ...
              }
Funciones Clave
protectPage(['cliente'])
// ¬øQu√© hace?
// 1. Lee sesi√≥n de localStorage
// 2. Verifica rol permitido
// 3. Si no coincide ‚Üí redirige a login
// 4. Retorna objeto session si OK
logout()
// ¬øQu√© hace?
// 1. Elimina sesi√≥n de localStorage
// 2. Redirige a login.html
Objeto Session
{
    email: "cliente@ejemplo.com",
    role: "cliente",
    token: "abcd1234",
    timestamp: 1699123456789,
    loginTime: "2024-01-10T10:30:00"
}
________________________________________
üõ†Ô∏è Gu√≠a de Modificaci√≥n
Cambios Comunes
1. Agregar Nuevo Servicio
Paso 1: Actualizar SERVICIOS en cotizar_cliente.js
{
    id: 7,  // Nuevo ID √∫nico
    nombre: "Limpieza de persianas",
    precio: 60000,
    imagen: "URL_IMAGEN",
    duracion: "1-2 horas",
    tamanos: ["Peque√±a", "Mediana", "Grande"],
    tiposLavado: ["B√°sico", "Profundo"]
}
Paso 2: Agregar tarjeta en HTML
<article class="service-card">
    <div class="service-image">
        <img src="./img/persianas.jpg" alt="Persianas">
    </div>
    <div class="service-content">
        <h3 class="service-title">Limpieza de persianas</h3>
        <p class="service-desc">...</p>
        <span class="service-price">$60.000</span>
        <button onclick="agregarAlCarrito(7)">üõí Agregar</button>
    </div>
</article>
2. Cambiar Colores del Tema
Header (Gradiente morado):
/* L√≠nea 17 en CSS */
background: linear-gradient(
    135deg, 
    rgba(70, 70, 130, 0.95),  /* Cambiar aqu√≠ */
    rgba(100, 80, 150, 0.95)  /* Y aqu√≠ */
);
Bot√≥n flotante:
/* L√≠nea 283 en CSS */
background: linear-gradient(
    135deg, 
    #667eea 0%,  /* Cambiar aqu√≠ */
    #764ba2 100% /* Y aqu√≠ */
);
Bot√≥n confirmar:
/* L√≠nea 1090 en CSS */
background: linear-gradient(
    135deg, 
    #11998e 0%,  /* Verde actual */
    #38ef7d 100%
);
3. Cambiar Horarios Disponibles
En HTML (L√≠nea 190):
<select id="hora">
    <option value="07:00">07:00 AM</option>  <!-- Nuevo -->
    <option value="08:00">08:00 AM</option>
    <!-- ... m√°s opciones ... -->
    <option value="18:00">06:00 PM</option>  <!-- Nuevo -->
</select>
4. Cambiar Validez de Cotizaci√≥n
En JS (L√≠nea 260):
<p style="margin: 0; font-size: 14px;">
    ‚ú® Esta cotizaci√≥n es v√°lida por 30 d√≠as  <!-- Cambiar aqu√≠ -->
</p>
5. Modificar Tiempo de Notificaci√≥n
En JS (L√≠nea 448):
setTimeout(() => {
    notificacion.classList.remove('show');
    setTimeout(() => notificacion.remove(), 400);
}, 5000);  // Cambiar de 3000 a 5000 (5 segundos)
6. A√±adir Campo al Formulario
Paso 1: Agregar en HTML (despu√©s l√≠nea 180):
<div class="form-group">
    <label for="barrio">Barrio *</label>
    <input type="text" 
           id="barrio" 
           placeholder="Ej: Chapinero" 
           required>
</div>
Paso 2: Capturar en JS (l√≠nea 354):
const pedido = {
    // ... otros campos ...
    barrio: document.getElementById('barrio').value,  // Nuevo
    // ... resto ...
};
7. Cambiar Formato de Moneda
En JS (todas las instancias de toLocaleString):
// Actual (Colombia):
precio.toLocaleString('es-CO')  // 90.000

// Cambiar a M√©xico:
precio.toLocaleString('es-MX')  // 90,000

// Cambiar a USA:
precio.toLocaleString('en-US')  // 90,000
________________________________________
üêõ Soluci√≥n de Problemas
Problema 1: "No se ven los textos en el carrito"
Causa: Color de texto igual al fondo
Soluci√≥n: En CSS (l√≠neas 698-710)
.carrito-item-info h4 {
    color: #000000;  /* Asegurar negro */
}

.carrito-item-duracion {
    color: #333;  /* Gris oscuro */
}
Problema 2: "El carrito no suma correctamente"
Causa: Tipos de datos incorrectos
Soluci√≥n: En JS, verificar:
// Asegurar que sean n√∫meros
item.cantidad = parseInt(item.cantidad);
item.precio = parseFloat(item.precio);

Problema 3: "La cotizaci√≥n no se guarda"
Causa: localStorage lleno o bloqueado
Soluci√≥n: En JS (despu√©s l√≠nea 361):
try {
    localStorage.setItem('pedidos', JSON.stringify(pedidos));
} catch (e) {
    if (e.name === 'QuotaExceededError') {
        alert('Almacenamiento lleno. Borra datos antiguos.');
    }
}


Problema 4: "Los modales no se abren"
Causa: Conflicto de IDs o clase 'show' no aplicada
Soluci√≥n: Verificar en HTML:
<!-- IDs deben ser √∫nicos -->
<div class="modal-overlay" id="modalCarrito">...</div>
<div class="modal-overlay" id="modalConfirmacion">...</div>
En CSS verificar:
.modal-overlay.show {
    display: flex;  /* Debe estar presente */
}
Problema 5: "El badge del carrito no actualiza"
Causa: ID incorrecto o funci√≥n no llamada
Soluci√≥n: En HTML verificar:
<span id="carritoBadge" class="carrito-badge-flotante">0</span>
En JS verificar (l√≠nea 88):
const badge = document.getElementById('carritoBadge');
if (badge) {
    badge.textContent = totalItems;
    badge.style.display = totalItems > 0 ? 'flex' : 'none';
}
Problema 6: "Error de autenticaci√≥n"
Causa: Scripts cargados en orden incorrecto
Soluci√≥n: En HTML, verificar orden:
<!-- DEBE SER ESTE ORDEN: -->
<script src="./js/login.js"></script>
<script src="./js/sesiones_activas.js"></script>
<script>
    const session = protectPage(['cliente']);
</script>
<script src="./js/cotizar_cliente.js"></script>
Problema 7: "Fecha m√≠nima no funciona"
Causa: Formato de fecha incorrecto
Soluci√≥n: En JS (l√≠nea 293):
const hoy = new Date();
const manana = new Date(hoy);
manana.setDate(manana.getDate() + 1);
// Formato ISO correcto: YYYY-MM-DD
fechaInput.min = manana.toISOString().split('T')[0];
Problema 8: "Notificaciones no desaparecen"
Causa: Elemento no se elimina del DOM
Soluci√≥n: En JS (l√≠nea 444):
setTimeout(() => {
    notificacion.classList.remove('show');
    setTimeout(() => {
        if (notificacion && notificacion.parentNode) {
            notificacion.remove();
        }
    }, 400);
}, 3000);
Problema 9: "Grid no es responsive"
Causa: Falta media queries o unidades incorrectas
Soluci√≥n: En CSS verificar (l√≠nea 168):
.services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    /* minmax es clave para responsive */
}

@media (max-width: 768px) {
    .services-grid {
        grid-template-columns: 1fr; /* 1 columna en m√≥vil */
    }
}
Problema 10: "localStorage no persiste"
Causa: Modo inc√≥gnito o localStorage deshabilitado
Soluci√≥n: Detectar y notificar al usuario:
function verificarLocalStorage() {
    try {
        const test = 'test';
        localStorage.setItem(test, test);
        localStorage.removeItem(test);
        return true;
    } catch(e) {
        alert('El navegador tiene localStorage deshabilitado');
        return false;
    }
}

// Llamar al inicio
if (!verificarLocalStorage()) {
    // Usar memoria alternativa
}
________________________________________
üì± Responsive Design
Breakpoints Definidos
/* DESKTOP: > 1024px */
- Grid: 3 columnas
- Header: Navegaci√≥n horizontal completa
- Modales: Ancho m√°ximo 650px

/* TABLET: 768px - 1024px */
@media (max-width: 1024px) {
    - Grid: 2 columnas
    - Gap reducido: 30px
    - Nav: Espaciado reducido
}

/* M√ìVIL: < 768px */
@media (max-width: 768px) {
    - Grid: 1 columna
    - Header: Comprimido
    - Botones: 100% ancho
    - Modal: 95% ancho
    - Notificaciones: Full width
}
Elementos Responsive Clave
1. Grid de Servicios
/* AUTO-RESPONSIVE con auto-fit */
.services-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 40px;
}

/* En m√≥vil fuerza 1 columna */
@media (max-width: 768px) {
    .services-grid {
        grid-template-columns: 1fr;
        gap: 20px;
        padding: 0 10px;
    }
}
2. Header y Navegaci√≥n
/* Desktop */
.nav-bar {
    gap: 80px;
}

/* Tablet */
@media (max-width: 1024px) {
    .nav-bar {
        gap: 40px;
    }
}

/* M√≥vil */
@media (max-width: 768px) {
    .header-banner {
        height: auto;
        padding: 20px 10px;
    }
    
    .nav-bar {
        flex-direction: column;
        gap: 10px;
        width: 100%;
    }
    
    .nav-link {
        font-size: 16px;
    }
}
3. Modales
/* Desktop */
.modal-content {
    width: 90%;
    max-width: 650px;
}

/* M√≥vil */
@media (max-width: 768px) {
    .modal-content {
        width: 95%;
        max-width: none;
        max-height: 95vh;
    }
    
    .modal-header h2 {
        font-size: 20px;
    }
    
    .modal-body {
        padding: 20px;
    }
}
4. Botones
/* Desktop */
.btn-primary, .btn-confirmar {
    padding: 14px 35px;
    min-width: auto;
}

/* M√≥vil */
@media (max-width: 768px) {
    .modal-footer {
        flex-direction: column;
    }
    
    .btn-primary,
    .btn-secondary,
    .btn-confirmar,
    .btn-cancelar {
        width: 100%;
        padding: 16px 20px;
    }
}
5. Carrito Items
/* Desktop */
.carrito-item {
    display: flex;
    flex-direction: row;
}

/* M√≥vil */
@media (max-width: 768px) {
    .carrito-item {
        flex-direction: column;
        text-align: center;
    }
    
    .carrito-item-img {
        width: 100%;
        height: 150px;
        margin: 0 auto 15px;
    }
    
    .carrito-item-actions {
        flex-direction: row;
        justify-content: center;
        gap: 20px;
    }
}
6. Formularios
/* Desktop */
.form-group input,
.form-group select {
    font-size: 15px;
}

/* M√≥vil */
@media (max-width: 768px) {
    .form-group {
        margin-bottom: 15px;
    }
    
    .form-group input,
    .form-group select {
        font-size: 16px; /* Evita zoom en iOS */
        padding: 16px;
    }
}
7. Notificaciones
/* Desktop */
.notificacion {
    right: 20px;
    left: auto;
    min-width: 320px;
}

/* M√≥vil */
@media (max-width: 768px) {
    .notificacion {
        right: 10px;
        left: 10px;
        min-width: auto;
        width: calc(100% - 20px);
    }
}
8. Bot√≥n Flotante del Carrito
/* Desktop */
.btn-carrito-flotante {
    bottom: 40px;
    right: 40px;
    width: 80px;
    height: 80px;
}

/* M√≥vil */
@media (max-width: 768px) {
    .btn-carrito-flotante {
        bottom: 20px;
        right: 20px;
        width: 65px;
        height: 65px;
    }
    
    .carrito-icono {
        font-size: 32px;
    }
    
    .carrito-badge-flotante {
        width: 28px;
        height: 28px;
        font-size: 14px;
    }
}
Testing Responsive
Puntos a verificar en cada breakpoint:
‚úÖ Desktop (> 1024px)
‚Ä¢	[ ] Grid muestra 3 columnas
‚Ä¢	[ ] Navegaci√≥n completa visible
‚Ä¢	[ ] Modales centrados
‚Ä¢	[ ] Botones en l√≠nea horizontal
‚úÖ Tablet (768px - 1024px)
‚Ä¢	[ ] Grid muestra 2 columnas
‚Ä¢	[ ] Navegaci√≥n ajustada
‚Ä¢	[ ] Modales responsivos
‚Ä¢	[ ] Textos legibles
‚úÖ M√≥vil (< 768px)
‚Ä¢	[ ] Grid muestra 1 columna
‚Ä¢	[ ] Header apilado verticalmente
‚Ä¢	[ ] Botones 100% ancho
‚Ä¢	[ ] Modal ocupa 95% pantalla
‚Ä¢	[ ] Formularios f√°ciles de completar
‚Ä¢	[ ] Sin scroll horizontal
‚Ä¢	[ ] Touch targets > 44px
________________________________________
üîß Optimizaciones Recomendadas
Performance
1. Debounce en B√∫squeda
// En cotizar_cliente.js (l√≠nea 410)
let searchTimeout;
searchInput.addEventListener('input', (e) => {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(() => {
        filtrarServicios(e.target.value);
    }, 300); // Espera 300ms despu√©s de escribir
});
2. Lazy Loading de Im√°genes
<!-- En HTML, agregar loading="lazy" -->
<img src="..." alt="..." loading="lazy">
3. Comprimir Im√°genes
‚Ä¢	Usar formato WebP cuando sea posible
‚Ä¢	Tama√±o m√°ximo recomendado: 500KB por imagen
‚Ä¢	Dimensiones: 500x300px para tarjetas
4. Minimizar CSS/JS en Producci√≥n
Usar herramientas como:
‚Ä¢	CSS: cssnano o clean-css
‚Ä¢	JS: uglify-js o terser
Accesibilidad
1. ARIA Labels
<!-- Mejorar en HTML -->
<button aria-label="Agregar al carrito" 
        onclick="agregarAlCarrito(1)">
    üõí Agregar
</button>

<input type="text" 
       aria-label="Buscar servicios"
       id="searchInput">
2. Navegaci√≥n por Teclado
// Agregar en JS
document.addEventListener('keydown', (e) => {
    // ESC cierra modales
    if (e.key === 'Escape') {
        cerrarModalCarrito();
        cerrarModalConfirmacion();
    }
});
3. Contraste de Colores
Verificar que cumplan WCAG 2.1 AA:
‚Ä¢	Texto normal: Ratio m√≠nimo 4.5:1
‚Ä¢	Texto grande: Ratio m√≠nimo 3:1
Herramienta: https://webaim.org/resources/contrastchecker/
Seguridad
1. Sanitizar Inputs
// Agregar funci√≥n de sanitizaci√≥n
function sanitizeInput(input) {
    const div = document.createElement('div');
    div.textContent = input;
    return div.innerHTML;
}

// Usar al capturar datos
direccion: sanitizeInput(document.getElementById('direccion').value)
2. Validaci√≥n de Fechas
// Mejorar validaci√≥n (l√≠nea 293)
const hoy = new Date();
const manana = new Date(hoy);
manana.setDate(manana.getDate() + 1);

const maxDate = new Date(hoy);
maxDate.setMonth(maxDate.getMonth() + 2); // M√°ximo 2 meses

fechaInput.min = manana.toISOString().split('T')[0];
fechaInput.max = maxDate.toISOString().split('T')[0];
3. Limitar localStorage
// Agregar l√≠mite de pedidos guardados
function guardarPedido(pedido) {
    let pedidos = JSON.parse(localStorage.getItem('pedidos') || '[]');
    
    // Mantener solo √∫ltimos 50 pedidos
    if (pedidos.length >= 50) {
        pedidos = pedidos.slice(-49);
    }
    
    pedidos.push(pedido);
    localStorage.setItem('pedidos', JSON.stringify(pedidos));
}
________________________________________
üìä Estructura de Datos
localStorage Keys
// Estructura de almacenamiento local
localStorage = {
    "session": {
        email: "cliente@ejemplo.com",
        role: "cliente",
        token: "abc123",
        timestamp: 1699123456789
    },
    
    "pedidos": [
        {
            id: "PED-1699123456789",
            cotizacionId: "COT-1699123400000",
            servicios: [...],
            direccion: "...",
            ciudad: "...",
            telefono: "...",
            fecha: "2024-01-15",
            hora: "10:00",
            observaciones: "...",
            total: 270000,
            estado: "Pendiente",
            fechaCreacion: "2024-01-10T10:30:00Z"
        }
    ],
    
    "usuarios": [
        {
            email: "cliente@ejemplo.com",
            password: "hashed_password",
            role: "cliente",
            nombre: "Juan P√©rez",
            telefono: "3001234567"
        }
    ]
}
Variables en Memoria (Runtime)
// cotizar_cliente.js

// Servicios disponibles (constante)
const SERVICIOS = [
    {
        id: 1,
        nombre: "Lavado de muebles",
        precio: 90000,
        imagen: "URL",
        duracion: "2-3 horas",
        tamanos: ["Peque√±o", "Mediano", "Grande"],
        tiposLavado: ["B√°sico", "Profundo", "Premium"]
    }
    // ... m√°s servicios
];

// Carrito actual (temporal)
let carrito = [
    {
        id: 1,
        nombre: "Lavado de muebles",
        precio: 90000,
        imagen: "URL",
        duracion: "2-3 horas",
        tamanos: [...],
        tiposLavado: [...],
        cantidad: 2,           // Agregado por usuario
        tamano: "Mediano",     // Seleccionado por usuario
        tipoLavado: "Profundo" // Seleccionado por usuario
    }
];

// Cotizaciones generadas (temporal)
let cotizacionesGuardadas = [
    {
        id: "COT-1699123400000",
        servicios: [...],
        total: 270000,
        fechaCreacion: "2024-01-10T10:30:00Z"
    }
];
________________________________________
üöÄ Despliegue
Checklist Pre-Producci√≥n
‚Ä¢	[ ] Archivos Minimizados
o	[ ] CSS comprimido
o	[ ] JS comprimido
o	[ ] HTML sin comentarios
‚Ä¢	[ ] Im√°genes Optimizadas
o	[ ] Formato WebP con fallback
o	[ ] Compresi√≥n aplicada
o	[ ] Tama√±os correctos
‚Ä¢	[ ] Testing
o	[ ] Desktop: Chrome, Firefox, Safari
o	[ ] M√≥vil: iOS Safari, Android Chrome
o	[ ] Tablet: iPad, Android tablets
‚Ä¢	[ ] Funcionalidad
o	[ ] Login/Logout funciona
o	[ ] Carrito suma correctamente
o	[ ] Cotizaci√≥n se genera
o	[ ] Pedido se guarda
o	[ ] Notificaciones aparecen
‚Ä¢	[ ] Responsive
o	[ ] Sin scroll horizontal
o	[ ] Textos legibles
o	[ ] Botones alcanzables
o	[ ] Modales centrados
‚Ä¢	[ ] Accesibilidad
o	[ ] ARIA labels presentes
o	[ ] Navegaci√≥n por teclado
o	[ ] Contraste adecuado
o	[ ] Screen reader compatible
Hosting Recomendado
Opciones Gratuitas:
‚Ä¢	Netlify (recomendado)
‚Ä¢	Vercel
‚Ä¢	GitHub Pages
Configuraci√≥n Netlify:
# netlify.toml
[build]
  publish = "."

[[redirects]]
  from = "/*"
  to = "/index.html"
  status = 200
________________________________________
üìö Glosario T√©cnico
T√©rminos CSS
‚Ä¢	Flexbox: Sistema de layout unidimensional
‚Ä¢	Grid: Sistema de layout bidimensional
‚Ä¢	Media Query: Regla CSS para responsive
‚Ä¢	Pseudo-clase: Selector especial (:hover, :focus)
‚Ä¢	Transform: Transformaci√≥n visual (escalar, rotar)
‚Ä¢	Transition: Animaci√≥n suave entre estados
‚Ä¢	z-index: Orden de apilamiento de elementos
T√©rminos JavaScript
‚Ä¢	Array: Lista ordenada de elementos
‚Ä¢	Callback: Funci√≥n pasada como argumento
‚Ä¢	Event Listener: Funci√≥n que escucha eventos
‚Ä¢	LocalStorage: Almacenamiento local del navegador
‚Ä¢	Template Literal: String con ${variable}
‚Ä¢	Arrow Function: Funci√≥n con sintaxis () => {}
‚Ä¢	Spread Operator: (...) copia propiedades
T√©rminos HTML
‚Ä¢	Semantic HTML: Etiquetas con significado
‚Ä¢	ARIA: Accesibilidad para screen readers
‚Ä¢	Modal: Ventana emergente
‚Ä¢	Form: Formulario de entrada de datos
‚Ä¢	Input: Campo de entrada
________________________________________
üìû Soporte y Contacto
Para Desarrolladores
Preguntas Frecuentes:
1.	¬øC√≥mo agregar un nuevo servicio? ‚Üí Ver secci√≥n "Gu√≠a de Modificaci√≥n" punto 1
2.	¬øC√≥mo cambiar colores? ‚Üí Ver secci√≥n "Gu√≠a de Modificaci√≥n" punto 2
3.	¬øError de autenticaci√≥n? ‚Üí Ver secci√≥n "Soluci√≥n de Problemas" punto 6
Recursos Adicionales:
‚Ä¢	MDN Web Docs: https://developer.mozilla.org
‚Ä¢	CSS Tricks: https://css-tricks.com
‚Ä¢	JavaScript.info: https://javascript.info
Control de Versiones
Versi√≥n 1.0 - 2024-01-10
- Sistema de cotizaci√≥n b√°sico
- Carrito de servicios
- Autenticaci√≥n

Versi√≥n 1.1 - [PENDIENTE]
- [ ] Sistema de pagos
- [ ] Historial de pedidos
- [ ] Notificaciones push
- [ ] Panel de administraci√≥n
________________________________________
‚úÖ Conclusi√≥n
Este documento proporciona toda la informaci√≥n necesaria para:
‚Ä¢	‚úÖ Entender el c√≥digo
‚Ä¢	‚úÖ Modificar funcionalidades
‚Ä¢	‚úÖ Resolver problemas comunes
‚Ä¢	‚úÖ Mantener el sistema
‚Ä¢	‚úÖ Agregar nuevas caracter√≠sticas
Recuerda: Siempre hacer backup antes de modificar c√≥digo en producci√≥n.
________________________________________
Documentaci√≥n creada por: [Tu Nombre]
√öltima actualizaci√≥n: [Fecha]
Versi√≥n del Sistema: 1.0 Prop√≥sito Sistema web para que clientes registrados de FoamWash puedan:
‚Ä¢	Cotizar servicios de limpieza y lavado
‚Ä¢	Agendar servicios despu√©s de cotizar
‚Ä¢	Gestionar su carrito de servicios
‚Ä¢	Ver resumen de cotizaciones y pedidos
Caracter√≠sticas Principales
‚úÖ Sistema de cotizaci√≥n paso a paso ‚úÖ Carrito de compras interactivo ‚úÖ Validaci√≥n de formularios ‚úÖ Notificaciones visuales ‚úÖ Almacenamiento local (localStorage) ‚úÖ Dise√±o responsive (m√≥vil, tablet, escritorio) ‚úÖ Protecci√≥n por autenticaci√≥n
________________________________________
üìÅ Estructura del Proyecto
proyecto/
‚îÇ
‚îú‚îÄ‚îÄ html/
‚îÇ   ‚îî‚îÄ‚îÄ cotizar_cliente.html          # P√°gina principal
‚îÇ
‚îú‚îÄ‚îÄ css/
‚îÇ   ‚îî‚îÄ‚îÄ estilos_cotizar_cliente.css   # Estilos completos
‚îÇ
‚îú‚îÄ‚îÄ js/
‚îÇ   ‚îú‚îÄ‚îÄ cotizar_cliente.js            # L√≥gica de cotizaci√≥n
‚îÇ   ‚îú‚îÄ‚îÄ login.js                      # Sistema de autenticaci√≥n
‚îÇ   ‚îî‚îÄ‚îÄ sesiones_activas.js           # Manejo de sesiones
‚îÇ
‚îî‚îÄ‚îÄ img/
    ‚îú‚îÄ‚îÄ serv_lavado_muebles.jpg
    ‚îú‚îÄ‚îÄ serv_alfombras.jpg
    ‚îú‚îÄ‚îÄ serv_tapiceria_carro.jpg
    ‚îú‚îÄ‚îÄ serv_cortinas.jpg
    ‚îú‚îÄ‚îÄ serv_colchones.jpg
    ‚îî‚îÄ‚îÄ serv_desinfeccion.jpg
________________________________________
üîÑ Flujo de la Aplicaci√≥n
Diagrama de Flujo
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 1. LOGIN/REGISTRO   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 2. P√ÅGINA SERVICIOS ‚îÇ ‚Üê Usuario ve cat√°logo
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 3. AGREGAR CARRITO  ‚îÇ ‚Üê Clic en "Agregar"
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 4. VER CARRITO      ‚îÇ ‚Üê Clic en bot√≥n flotante
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 5. GENERAR          ‚îÇ ‚Üê Completa detalles:
‚îÇ    COTIZACI√ìN       ‚îÇ   - Tama√±o
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   - Tipo lavado
           ‚îÇ               - Cantidad
           ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ 6. VER COTIZACI√ìN   ‚îÇ ‚Üê Muestra total
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ
       ‚îå‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îê
       ‚ñº       ‚ñº
  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
  ‚îÇ 7A. ‚îÇ   ‚îÇ 7B.      ‚îÇ
  ‚îÇ M√ÅS ‚îÇ   ‚îÇ AGENDAR  ‚îÇ
  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ 8. LLENAR   ‚îÇ ‚Üê Formulario:
        ‚îÇ FORMULARIO  ‚îÇ   - Direcci√≥n
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   - Fecha/Hora
               ‚îÇ           - Tel√©fono
               ‚ñº
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ 9. CONFIRMAR‚îÇ ‚Üê Guarda en localStorage
        ‚îÇ    PEDIDO   ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
________________________________________
üé® Documentaci√≥n CSS
Archivo: estilos_cotizar_cliente.css
Secciones Principales
1. RESET Y BASE (L√≠neas 1-10)
* { margin: 0; padding: 0; box-sizing: border-box; }
Prop√≥sito: Elimina estilos por defecto del navegador
2. HEADER (L√≠neas 12-100)
.header-banner { ... }
.logo-header { ... }
.nav-bar { ... }
Componentes:
‚Ä¢	Banner superior con gradiente morado
‚Ä¢	Logo "FoamWash"
‚Ä¢	Barra de navegaci√≥n
‚Ä¢	Bot√≥n de cerrar sesi√≥n
Modificar colores:
‚Ä¢	Fondo: L√≠nea 17 background: linear-gradient(...)
‚Ä¢	Logo: L√≠nea 39 color: white
‚Ä¢	Links: L√≠nea 54 color: white
3. BUSCADOR (L√≠neas 102-150)
.search-section { ... }
.search-input { ... }
Elementos:
‚Ä¢	Input de b√∫squeda centrado
‚Ä¢	Bot√≥n de b√∫squeda
‚Ä¢	Efecto de foco (borde azul)
4. TARJETAS DE SERVICIOS (L√≠neas 152-280)
.service-card { ... }
.service-image { ... }
.service-btn { ... }
Grid responsive:
‚Ä¢	Desktop: 3 columnas
‚Ä¢	Tablet: 2 columnas
‚Ä¢	M√≥vil: 1 columna
Animaciones:
‚Ä¢	Hover: Tarjeta sube 10px
‚Ä¢	Imagen: Zoom 1.1x
5. CARRITO FLOTANTE (L√≠neas 282-400)
.btn-carrito-flotante { ... }
Animaciones:
‚Ä¢	float: Movimiento arriba/abajo
‚Ä¢	pulse-ring: Anillo pulsante
‚Ä¢	shine: Brillo deslizante
Modificar posici√≥n:
‚Ä¢	Derecha: L√≠nea 285 right: 40px
‚Ä¢	Abajo: L√≠nea 286 bottom: 40px
6. MODALES (L√≠neas 402-650)
.modal-overlay { ... }
.modal-content { ... }
Estructura:
‚Ä¢	Overlay oscuro con blur
‚Ä¢	Contenido centrado
‚Ä¢	Header con gradiente
‚Ä¢	Body con scroll
‚Ä¢	Footer con botones
7. CARRITO DE SERVICIOS (L√≠neas 652-800)
.carrito-item { ... }
.cantidad-control { ... }
Elementos:
‚Ä¢	Items del carrito
‚Ä¢	Controles de cantidad (+/-)
‚Ä¢	Bot√≥n eliminar
‚Ä¢	Total con gradiente
‚ö†Ô∏è CAMBIO IMPORTANTE: L√≠nea 752
color: rgb(0, 0, 0); /* NEGRO para visibilidad */
8. FORMULARIOS (L√≠neas 802-950)
.form-group { ... }
.servicio-detalle { ... }
Inputs:
‚Ä¢	Padding: 14px
‚Ä¢	Border: 2px solid
‚Ä¢	Focus: Sombra azul
9. CONFIRMACI√ìN (L√≠neas 952-1050)
.confirmacion-exitosa { ... }
.icono-exito { ... }
Gradiente verde: √âxito de operaci√≥n
10. BOTONES (L√≠neas 1052-1200)
Tipos de botones:
Clase	Color	Uso
.btn-primary	Morado	Acci√≥n principal
.btn-confirmar	Verde	Confirmar pedido
.btn-cancelar	Rosa/Morado	Seguir cotizando
.btn-secondary	Blanco/Morado	Cancelar
Efectos:
‚Ä¢	Hover: Sube 3px
‚Ä¢	Shadow: Aumenta
‚Ä¢	Animaci√≥n: Flecha aparece (confirmar)
11. NOTIFICACIONES (L√≠neas 1202-1250)
.notificacion { ... }
Comportamiento:
‚Ä¢	Aparece desde derecha
‚Ä¢	Desaparece en 3 segundos
‚Ä¢	√çcono verde de check
12. RESPONSIVE (L√≠neas 1252-1350)
Breakpoints:
@media (max-width: 1024px) { ... } /* Tablets */
@media (max-width: 768px) { ... }  /* M√≥viles */
Cambios en m√≥vil:
‚Ä¢	Grid: 1 columna
‚Ä¢	Botones: 100% ancho
‚Ä¢	Header: M√°s compacto
‚Ä¢	Notificaciones: Full width
________________________________________
üíª Documentaci√≥n JavaScript
Archivo: cotizar_cliente.js
Variables Globales
// L√≠neas 1-40
const SERVICIOS = [...]      // Array de servicios disponibles
let carrito = []             // Array de servicios en carrito
let cotizacionesGuardadas = [] // Array de cotizaciones generadas
Funciones Principales
1. Gesti√≥n del Carrito
agregarAlCarrito(servicioId) - L√≠nea 42
// ¬øQu√© hace?
// 1. Busca el servicio por ID
// 2. Verifica si ya existe en carrito
// 3. Aumenta cantidad o agrega nuevo
// 4. Actualiza UI
// 5. Muestra notificaci√≥n

// Uso:
onclick="agregarAlCarrito(1)"
eliminarDelCarrito(servicioId) - L√≠nea 62
// ¬øQu√© hace?
// 1. Filtra el servicio del array
// 2. Actualiza UI
// 3. Muestra notificaci√≥n

// Uso:
onclick="eliminarDelCarrito(1)"
actualizarCantidad(servicioId, nuevaCantidad) - L√≠nea 68
// ¬øQu√© hace?
// 1. Encuentra el item
// 2. Actualiza su cantidad
// 3. Si cantidad = 0, elimina
// 4. Actualiza UI

// Uso:
onchange="actualizarCantidad(1, 3)"
2. C√°lculos
calcularTotal() - L√≠nea 82
// Retorna: N√∫mero (suma total)
// F√≥rmula: Œ£(precio √ó cantidad)
return carrito.reduce((total, item) => 
    total + (item.precio * item.cantidad), 0);
3. Actualizaci√≥n de UI
actualizarCarrito() - L√≠nea 86
// ¬øQu√© hace?
// 1. Cuenta items totales
// 2. Actualiza badge del bot√≥n flotante
// 3. Llama a actualizarModalCarrito()
actualizarModalCarrito() - L√≠nea 98
// ¬øQu√© hace?
// 1. Verifica si carrito vac√≠o ‚Üí muestra mensaje
// 2. Genera HTML de cada item
// 3. Muestra total formateado
4. Modales
abrirModalCarrito() - L√≠nea 136
// Agrega clase 'show' al modal
document.getElementById('modalCarrito').classList.add('show');
cerrarModalCarrito() - L√≠nea 141
// Remueve clase 'show' del modal
document.getElementById('modalCarrito').classList.remove('show');
5. Proceso de Cotizaci√≥n
finalizarCompra() - L√≠nea 146
// ¬øQu√© hace?
// 1. Valida que carrito no est√© vac√≠o
// 2. Cierra modal carrito
// 3. Abre modal cotizaci√≥n
abrirModalCotizacion() - L√≠nea 156
// ¬øQu√© hace?
// 1. Genera formulario para cada servicio:
//    - Select de tama√±o
//    - Input de cantidad
//    - Select de tipo de lavado
// 2. Muestra bot√≥n "Generar Cotizaci√≥n"
generarCotizacion() - L√≠nea 217
// ¬øQu√© hace?
// 1. Valida que todos los detalles est√©n completos
// 2. Crea objeto cotizaci√≥n con:
//    - ID √∫nico (COT-timestamp)
//    - Servicios con detalles
//    - Total
//    - Fecha de creaci√≥n
// 3. Guarda en array
// 4. Muestra resultado
mostrarResultadoCotizacion(cotizacion) - L√≠nea 238
// ¬øQu√© hace?
// 1. Muestra c√≥digo de cotizaci√≥n
// 2. Lista servicios cotizados
// 3. Muestra total
// 4. Presenta 2 botones:
//    a) Seguir Cotizando
//    b) Realizar Agendaci√≥n
6. Opciones Post-Cotizaci√≥n
seguirCotizando() - L√≠nea 277
// ¬øQu√© hace?
// 1. Limpia carrito actual
// 2. Mantiene cotizaciones guardadas
// 3. Cierra modal
// 4. Usuario puede agregar m√°s servicios
realizarAgendacion() - L√≠nea 284
// ¬øQu√© hace?
// 1. Oculta cotizaci√≥n
// 2. Muestra formulario con:
//    - Direcci√≥n
//    - Ciudad
//    - Tel√©fono
//    - Fecha (m√≠nimo ma√±ana)
//    - Hora (horarios predefinidos)
//    - Observaciones
// 3. Actualiza bot√≥n a "Confirmar Pedido"
7. Confirmaci√≥n de Pedido
confirmarPedido() - L√≠nea 341
// ¬øQu√© hace?
// 1. Valida formulario
// 2. Obtiene √∫ltima cotizaci√≥n
// 3. Crea objeto pedido:
//    - ID √∫nico (PED-timestamp)
//    - ID de cotizaci√≥n vinculada
//    - Datos de entrega
//    - Estado: "Pendiente"
// 4. Guarda en localStorage
// 5. Muestra confirmaci√≥n
Estructura del pedido guardado:
{
    id: "PED-1699123456789",
    cotizacionId: "COT-1699123400000",
    servicios: [...],
    direccion: "Calle 123 #45-67",
    ciudad: "Bogot√°",
    telefono: "3001234567",
    fecha: "2024-01-15",
    hora: "10:00",
    observaciones: "...",
    total: 270000,
    estado: "Pendiente",
    fechaCreacion: "2024-01-10T10:30:00.000Z"
}
8. Utilidades
formatearFecha(fecha) - L√≠nea 384
// Entrada: "2024-01-15"
// Salida: "lunes, 15 de enero de 2024"
actualizarDetalleServicio(servicioId, campo, valor) - L√≠nea 195
// Actualiza propiedades del servicio en carrito
// Campos: 'tamano', 'tipoLavado'
configurarBusqueda() - L√≠nea 407
// Configura event listener para buscar servicios
filtrarServicios(termino) - L√≠nea 416
// Filtra tarjetas por t√≠tulo o descripci√≥n
mostrarNotificacion(mensaje) - L√≠nea 432
// Muestra notificaci√≥n temporal (3 seg)
9. Event Listeners
// L√≠nea 467: Click fuera del modal cierra
window.addEventListener('click', (e) => { ... })

// L√≠nea 481: Inicializaci√≥n al cargar p√°gina
document.addEventListener('DOMContentLoaded', () => { ... })
________________________________________
üåê Documentaci√≥n HTML
Archivo: cotizar_cliente.html
Estructura General
<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Meta tags y t√≠tulo -->
    <link rel="stylesheet" href="estilos.css">
</head>
<body>
    <!-- 1. Header -->
    <!-- 2. Buscador -->
    <!-- 3. Grid de servicios -->
    <!-- 4. Bot√≥n flotante -->
    <!-- 5. Modal carrito -->
    <!-- 6. Modal confirmaci√≥n -->
    <!-- 7. Scripts -->
</body>
</html>
Secciones Detalladas
1. Header (L√≠neas 14-26)
<header class="header-banner">
    <h1 class="logo-header">FoamWash</h1>
    <nav class="nav-bar">
        <a href="#" class="nav-link">Hogar</a>
        <a href="./cotizar_cliente.html">Cotizaci√≥n</a>
        <a href="#" class="nav-link">Agendar</a>
        <span id="userEmail">üë§ Usuario</span>
        <a href="#" onclick="cerrarSesionCliente(event)">
            üö™ Cerrar Sesi√≥n
        </a>
    </nav>
</header>
IDs importantes:
‚Ä¢	userEmail: Se actualiza con email del usuario
2. Buscador (L√≠neas 28-35)
<section class="search-section">
    <input type="text" 
           id="searchInput" 
           placeholder="Buscar servicios...">
    <button class="search-button">üîç</button>
</section>
3. Grid de Servicios (L√≠neas 37-120)
<section class="services-section">
    <h2>Nuestros Servicios</h2>
    <div class="services-grid">
        <!-- 6 tarjetas de servicio -->
        <article class="service-card">
            <div class="service-image">
                <img src="..." alt="...">
            </div>
            <div class="service-content">
                <h3 class="service-title">...</h3>
                <p class="service-desc">...</p>
                <span class="service-price">$90.000</span>
                <button onclick="agregarAlCarrito(1)">
                    üõí Agregar
                </button>
            </div>
        </article>
    </div>
</section>
Modificar servicios:
‚Ä¢	Cambiar precio en <span class="service-price">
‚Ä¢	Cambiar ID en onclick="agregarAlCarrito(X)"
‚Ä¢	Tambi√©n actualizar array SERVICIOS en JS
4. Bot√≥n Flotante (L√≠neas 122-126)
<button class="btn-carrito-flotante" 
        onclick="abrirModalCarrito()">
    <span class="carrito-icono">üõí</span>
    <span id="carritoBadge">0</span>
</button>
IDs importantes:
‚Ä¢	carritoBadge: Muestra cantidad de items
5. Modal Carrito (L√≠neas 128-150)
<div class="modal-overlay" id="modalCarrito">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üõí Carrito de Servicios</h2>
            <button onclick="cerrarModalCarrito()">√ó</button>
        </div>
        <div class="modal-body">
            <div id="carritoItems"></div>
            <div class="carrito-total">
                <h3>Total: <span id="carritoTotal">$0</span></h3>
            </div>
        </div>
        <div class="modal-footer">
            <button onclick="cerrarModalCarrito()">
                Seguir Cotizando
            </button>
            <button onclick="finalizarCompra()">
                Ver Cotizaci√≥n Final
            </button>
        </div>
    </div>
</div>
IDs importantes:
‚Ä¢	modalCarrito: Contenedor principal
‚Ä¢	carritoItems: Se llena din√°micamente con JS
‚Ä¢	carritoTotal: Se actualiza con total
6. Modal Confirmaci√≥n (L√≠neas 152-220)
<div class="modal-overlay" id="modalConfirmacion">
    <div class="modal-content">
        <div class="modal-header">
            <h2>üìã Confirmar Pedido</h2>
            <button onclick="cerrarModalConfirmacion()">√ó</button>
        </div>
        <div class="modal-body">
            <!-- √Årea de servicios a cotizar -->
            <div id="serviciosConfirmacion"></div>
            
            <!-- Formulario de agendaci√≥n -->
            <form id="formConfirmacion">
                <input type="text" id="direccion">
                <input type="text" id="ciudad">
                <input type="tel" id="telefono">
                <input type="date" id="fecha">
                <select id="hora">...</select>
                <textarea id="observaciones"></textarea>
                
                <!-- Resumen -->
                <div class="resumen-pedido">
                    <div id="resumenPedido"></div>
                    <div id="totalFinal">$0</div>
                </div>
            </form>
            
            <!-- Mensaje de confirmaci√≥n -->
            <div id="mensajeConfirmacion"></div>
        </div>
        <div class="modal-footer" id="modalFooterConfirm">
            <!-- Botones din√°micos -->
        </div>
    </div>
</div>
IDs din√°micos (cambian seg√∫n etapa):
‚Ä¢	serviciosConfirmacion: Detalles o formulario
‚Ä¢	mensajeConfirmacion: Confirmaci√≥n final
‚Ä¢	modalFooterConfirm: Botones cambian
7. Scripts (L√≠neas 225-270)
Orden de carga (CR√çTICO):
<!-- 1. Sistema de login -->
<script src="./js/login.js"></script>

<!-- 2. Sistema de sesiones -->
<script src="./js/sesiones_activas.js"></script>

<!-- 3. Protecci√≥n de p√°gina -->
<script>
    const session = protectPage(['cliente']);
    // Verifica que usuario est√© logueado
    // Redirige a login si no est√° autenticado
</script>

<!-- 4. Funcionalidad -->
<script src="./js/cotizar_cliente.js"></script>
‚ö†Ô∏è NO cambiar el orden - rompe autenticaci√≥n
________________________________________
üîê Sistema de Autenticaci√≥n
Archivos Involucrados
‚Ä¢	login.js: Funciones de login/logout
‚Ä¢	sesiones_activas.js: Gesti√≥n de sesiones
‚Ä¢	cotizar_cliente.html: Script de protecci√≥n
Flujo de Autenticaci√≥n
Usuario ‚Üí Login ‚Üí Genera Token ‚Üí Crea Sesi√≥n ‚Üí Accede
                        ‚Üì
                  (localStorage)
                        ‚Üì
              session = {
                  email: "...",
                  role: "cliente",
                  token: "...",
                  timestamp: ...
              }
Funciones Clave
protectPage(['cliente'])
// ¬øQu√© hace?
// 1. Lee sesi√≥n de localStorage
// 2. Verifica rol permitido
// 3. Si no coincide ‚Üí redirige a login
// 4. Retorna objeto session si OK
logout()
// ¬øQu√© hace?
// 1. Elimina sesi√≥n de localStorage
// 2. Redirige a login.html
Objeto Session
{
    email: "cliente@ejemplo.com",
    role: "cliente",
    token: "abcd1234",
    timestamp: 1699123456789,
    loginTime: "2024-01-10T10:30:00"
}
________________________________________
üõ†Ô∏è Gu√≠a de Modificaci√≥n
Cambios Comunes
1. Agregar Nuevo Servicio
Paso 1: Actualizar SERVICIOS en cotizar_cliente.js
{
    id: 7,  // Nuevo ID √∫nico
    nombre: "Limpieza de persianas",
    precio: 60000,
    imagen: "URL_IMAGEN",
    duracion: "1-2 horas",
    tamanos: ["Peque√±a", "Mediana", "Grande"],
    tiposLavado: ["B√°sico", "Profundo"]
}
Paso 2: Agregar tarjeta en HTML
<article class="service-card">
    <div class="service-image">
        <img src="./img/persianas.jpg" alt="Persianas">
    </div>
    <div class="service-content">
        <h3 class="service-title">Limpieza de persianas</h3>
        <p class="service-desc">...</p>
        <span class="service-price">$60.000</span>
        <button onclick="agregarAlCarrito(7)">üõí Agregar</button>
    </div>
</article>
2. Cambiar Colores del Tema
Header (Gradiente morado):
/* L√≠nea 17 en CSS */
background: linear-gradient(
    135deg, 
    rgba(70, 70, 130, 0.95),  /* Cambiar aqu√≠ */
    rgba(100, 80, 150, 0.95)  /* Y aqu√≠ */
);
Bot√≥n flotante:
/* L√≠nea 283 en CSS */
background: linear-gradient(
    135deg, 
    #667eea 0%,  /* Cambiar aqu√≠ */
    #764ba2 100% /* Y aqu√≠ */
);
Bot√≥n confirmar:
/* L√≠nea 1090 en CSS */
background: linear-gradient(
    135deg, 
    #11998e 0%,  /* Verde actual */
    #38ef7d 100%
);
3. Cambiar Horarios Disponibles
En HTML (L√≠nea 190):
<select id="hora">
    <option value="07:00">07:00 AM</option>  <!-- Nuevo -->
    <option value="08:00">08:00 AM</option>
    <!-- ... m√°s opciones ... -->
    <option value="18:00">06:00 PM</option>  <!-- Nuevo -->
</select>
4. Cambiar Validez de Cotizaci√≥n
En JS (L√≠nea 260):
<p style="margin: 0; font-size: 14px;">
    ‚ú® Esta cotizaci√≥n es v√°lida por 30 d√≠as  <!-- Cambiar aqu√≠ -->
</p>
5. Modificar Tiempo de Notificaci√≥n
En JS (L√≠nea 448):
setTimeout(() => {
    notificacion.classList.remove('show');
    setTimeout(() => notificacion.remove(), 400);
}, 5000);  // Cambiar de 3000 a 5000 (5 segundos)
6. A√±adir Campo al Formulario
Paso 1: Agregar en HTML (despu√©s l√≠nea 180):
<div class="form-group">
    <label for="barrio">Barrio *</label>
    <input type="text" 
           id="barrio" 
           placeholder="Ej: Chapinero" 
           required>
</div>
Paso 2: Capturar en JS (l√≠nea 354):
const pedido = {
    // ... otros campos ...
    barrio: document.getElementById('barrio').value,  // Nuevo
    // ... resto ...
};
7. Cambiar Formato de Moneda
En JS (todas las instancias de toLocaleString):
// Actual (Colombia):
precio.toLocaleString('es-CO')  // 90.000

// Cambiar a M√©xico:
precio.toLocaleString('es-MX')  // 90,000

// Cambiar a USA:
precio.toLocaleString('en-US')  // 90,000
________________________________________
üêõ Soluci√≥n de Problemas
Problema 1: "No se ven los textos en el carrito"
Causa: Color de texto igual al fondo
Soluci√≥n: En CSS (l√≠neas 698-710)
.carrito-item-info h4 {
    color: #000000;  /* Asegurar negro */
}

.carrito-item-duracion {
    color: #333;  /* Gris oscuro */
}
Problema 2: "El carrito no suma correctamente"
Causa: Tipos de datos incorrectos
Soluci√≥n: En JS, verificar:
// Asegurar que sean n√∫meros
item.cantidad = parseInt(item.cantidad);
item.precio = parseFloat(item.precio);
Problema 3: "La cotizaci√≥n no se guarda"
Causa: localStorage lleno o bloqueado
Soluci√≥n: En JS (despu√©s l√≠nea 361):
try {
    localStorage.setItem('pedidos', JSON.stringify(pedidos));
} catch (e) {
    if (e.name === 'QuotaExceededError') {
        alert('Almacenamiento lleno. Borra datos antiguos.');
    }
}

